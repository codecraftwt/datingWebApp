<h4 class="ms-4" mat-dialog-title>Edit Profile</h4>
<div class="d-flex justify-content-center align-items-center">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="row g-3">
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>Profile For</mat-label>
                    <input matInput formControlName="profileFor">
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName">
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName">
                </mat-form-field>
            </div>
        </div>

        <div class="row g-3 mt-3">
            <div class="col-lg-6">
                <mat-form-field class="w-100">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" type="email">
                </mat-form-field>
            </div>
            <div class="col-lg-6">
                <mat-form-field class="w-100">
                    <mat-label>Phone Number</mat-label>
                    <input matInput formControlName="mobile">
                </mat-form-field>
            </div>
        </div>
        <div class="row g-3 mt-3">
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>Date of Birth</mat-label>
                    <input [max]="maxDate" matInput [matDatepicker]="picker" formControlName="dob">
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>Country</mat-label>
                    <input matInput formControlName="country">
                </mat-form-field>
            </div>
            <div class="col-lg-4">
                <mat-form-field class="w-100">
                    <mat-label>Religion</mat-label>
                    <input matInput formControlName="religion">
                </mat-form-field>
            </div>
        </div>

        <div class="row g-3 mt-3">
            <div class="col-lg-12">
                <mat-form-field class="w-100">
                    <mat-label>Mother Tongue</mat-label>
                    <input matInput formControlName="motherTongue">
                </mat-form-field>
            </div>
        </div>

        <!-- Image Upload & Preview -->
        <div class="text-center mt-3">
            <label for="fileInput" class="image-container">
                <img *ngIf="profileDetails?.profilePhoto" [src]="profileDetails.profilePhoto" alt="Profile Image"
                    class="preview-image">
                <img *ngIf="!profileDetails?.profilePhoto" src="assets/default-avatar.png" class="preview-image">
            </label>
            <input type="file" id="fileInput" (change)="onFileSelected($event)" class="form-control mt-2">
        </div>

        <div class="text-center mt-4">
            <button mat-flat-button color="primary" type="submit">Save</button>
            <button mat-button type="button" (click)="closeDialog()">Cancel</button>
        </div>
    </form>
</div>